{"is_source_file": true, "format": "JavaScript", "description": "This file implements API client functions for a React frontend, handling authentication tokens, making HTTP requests (GET, POST, PUT, download), and managing headers and responses.", "external_files": ["localStorage", "fetch", "window.location"], "external_methods": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "fetch", "window.location.origin"], "published": ["setAuthToken", "getAuthToken", "clearAuthToken", "apiGet", "apiPost", "apiPut", "apiDownload"], "classes": [], "methods": [{"name": "setAuthToken(token)", "description": "Sets the JWT authentication token for API use, stores it in memory and localStorage.", "scope": "", "scopeKind": ""}, {"name": "getAuthToken()", "description": "Retrieves the current auth token, checking in-memory and localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearAuthToken()", "description": "Clears the stored authentication token from memory and localStorage.", "scope": "", "scopeKind": ""}, {"name": "buildHeaders(extra = {})", "description": "Constructs HTTP headers including authentication token if available.", "scope": "", "scopeKind": ""}, {"name": "handleResponse(res)", "description": "Processes fetch responses, parsing JSON or text and throwing errors for failed responses.", "scope": "", "scopeKind": ""}, {"name": "apiGet(path, params = {})", "description": "Performs a GET request with optional query parameters.", "scope": "", "scopeKind": ""}, {"name": "apiPost(path, body = {}, options = {})", "description": "Performs a POST request with JSON body.", "scope": "", "scopeKind": ""}, {"name": "apiPut(path, body = {}, options = {})", "description": "Performs a PUT request with JSON body.", "scope": "", "scopeKind": ""}, {"name": "apiDownload(path, body = {})", "description": "Performs a POST request for downloading files, returning a Blob.", "scope": "", "scopeKind": ""}, {"name": "getStoredToken()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "fetch", "getStoredToken", "handleResponse"], "search-terms": ["auth token management", "fetch wrapper", "API client", "React API", "token in localStorage"], "state": 2, "file_id": 13, "knowledge_revision": 28, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_BACKEND_BASE_URL || \"\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^    \"Content-Type\": \"application\\/json\",$/", "language": "JavaScript", "kind": "property", "scope": "buildHeaders.headers", "scopeKind": "class"}, {"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^const TOKEN_KEY = \"auth_token\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiDownload", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export async function apiDownload(path, body = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body = {})"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export async function apiGet(path, params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, params = {})"}, {"_type": "tag", "name": "apiPost", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export async function apiPost(path, body = {}, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body = {}, options = {})"}, {"_type": "tag", "name": "apiPut", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export async function apiPut(path, body = {}, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, body = {}, options = {})"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^function buildHeaders(extra = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(extra = {})"}, {"_type": "tag", "name": "clearAuthToken", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export function clearAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAuthToken", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export function getAuthToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getStoredToken", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^function getStoredToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^async function handleResponse(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "buildHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "memoryToken", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^let memoryToken = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "setAuthToken", "path": "/home/kavia/workspace/code-generation/bug-detector-50993-51125/WebDashboardFrontend/src/api/client.js", "pattern": "/^export function setAuthToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}], "hash": "03ba1d597d5288544ed0ed8e7b39ae70", "format-version": 4, "code-base-name": "WebDashboardFrontend", "filename": "WebDashboardFrontend/src/api/client.js", "fields": [{"name": "\"Content-Type\": \"application\\/json\",", "scope": "buildHeaders.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "let memoryToken = null;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"28": ""}]}